Drunkard Game. Игра пьяницы
=============

Условие игры:

Действие происходит на поле 15x15 пошагово. За один шаг игры каждый из персонажей делает ход.

Столб (|)
В клетке (7,7) поля располагается столб. Столб не ходит.

Пьяница (A - ходящий, S - спящий)
К пограничной клетке (0,9) прилегает Трактир. Раз в 20 шагов из трактира выходит Пьяница (появляется на клетке) и далее начинает шататься: каждый ход пьяница делает случайный шаг на одну клетку вверх, вниз, вправо или влево. Если пьяница упирается в столб (делает шаг в клетку со столбом), он засыпает (перестает ходить). Если шатающиеся пьяницы сталкиваются, они обходят друг друга (остаются на месте и ходят в следующий раз). Если пьяница упирается в заснувшего пьяницу, он тоже засыпает.

Бутылка (~)
У каждого пьяницы есть при себе бутылка. На каждом ходе с вероятностью 1/30 он ее теряет. Если пьяница натыкается на бутылку, он падает и засыпает. Если пьяница натыкается на спящего лежачего пьяницу, он обходит его (как при столкновении с шатающимся пьяницей).

Фонарь (0)
В поле (3, 10) находится фонарь. Фонарь освещает клетки в радиусе 3. Все персонажи обходят фонарь.

Полицейский
Полицейский участок прилегает к клетке (3, 14). Полицейский видит из участка освещенные фонарем клетки, и если там оказывается спящий пьяница, выходит и уводит его в участок (может увести одного пьяницу за раз). За шаг полицейский делает один ход. При столкновении с объектами на поле он старается их обойти (на следующем ходе).

Нищий (B)
К клетке (14, 4) прилегает пункт приема стеклотары. Нищий выходит из пункта и начинает обходить поле в поисках пустых бутылок. За ход нищий может сделать один шаг на соседнюю клетку. Если на соседней клетке располагается бутылка, нищий подбирает ее и отправляется к пункту приема стеклотары. Там он сдает ее и уходит с поля на 40 шагов (пока не закончатся вырученные деньги), после чего процесс начинается вновь.

При нажатии Enter - показывается карта на следующем ходе
x - Выход из игры